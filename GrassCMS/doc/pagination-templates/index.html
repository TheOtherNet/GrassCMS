<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <title>Screen sorting</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">

    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/bootstrap-responsive.min.css">

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="js/plugins.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/script.js"></script>
    <script src="js/jquery-ui-1.8.19.custom.min.js"></script>
    <script>
        var _gaq=[['_setAccount','UA-XXXXX-X'],['_trackPageview']];
        (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
        g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
        s.parentNode.insertBefore(g,s)}(document,'script'));
    </script>
    
    <style>

    .nosortable { list-style-type: none; margin: 0; padding: 0;}
    .nosortable li { 
        margin: 3px 3px 3px 0;
        padding: 1px;
        float: left;
        width: 120px;
        height: 170px;
        font-size: 4em;
        text-align: center; 
        border:2px solid rgba(0,0,0,0.3);
        border-radius:7px;
    }
    .foo{ float:left; list-style:none; } 
    .foo li{ float:left; list-style:none; }

    .sortable { list-style-type: none; margin: 0; padding: 0; width:100%; min-height:170px; }
    .sortable li { 
        margin: 3px 3px 3px 0;
        padding: 1px;
        float: left;
        width: 120px;
        height: 170px;
        font-size: 4em;
        text-align: center; 
        border:2px solid rgba(0,0,0,0.3);
        border-radius:7px;
    }

    </style>
    <script>
$(function() {
    $("#sortable1").sortable({
        helper:"clone",
        connectWith: "#sortable2",
        start:function(event,ui){
            $(ui.item).show();
            clone = $(ui.item).clone();
            before = $(ui.item).prev();
        },
        stop:function(event, ui){
            $('#sortable1').append(before.after(clone));
        }
    }).disableSelection();

    $("#sortable2").sortable({
        helper:"clone",
        connectWith: "#sortable1",
        start: function(event, ui){
            $(ui.item).show();
            clone = $(ui.item).clone();
            before = $(ui.item).prev();
        },
        stop:function(event, ui){
            $('#sortable2').append(before.after(clone));
        }
    }).disableSelection();

    $( "#droppable" ).droppable({
            drop: function( event, ui ) { 
                $(event.srcElement).parents('li').remove(); 
            } 
    });
        
}); // TODO: Templates must be unique, also, names for pages must be unique too.
    </script>

    <!--[if lt IE 9]>
        <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>

<body>
   <ul style="display:none" id=page_model>
       <li class="ui-state-default">
           <div style="float:left">
                <img src="foo.png" style="width:120px;top: 35px;margin-top: 20px;">
           </div>
           <div style="margin-top: 110px;">
                <input type="text" value="name" size="10" name="foo" style="width: 8em;">
           </div>
       </li>
    </ul>

    <div style="width:98%" class="btn btn-danger" id="droppable"> Delete </div> 

    <div role="main" style="margin-top:20px" class="container-fluid"> 
    <ul class="foo">
        <li>
            <ul class="nosortable">
                <li class="ui-state-disabled">
                    <a href="#" onclick="$('#sortable1').prepend($('#page_model').html());">
                        <img src="img/add.png" style="margin-top:20px" />
                    </a>
                </li>
            </ul> 
        </li>
        <li>
            <ul class="sortable" id="sortable1">
                <li class="ui-state-default" contenteditable="false">
                    <div style="float:left"><img src="foo.png" style="width:120px;top: 35px;margin-top: 20px;"> </div>
                    <div style="margin-top: 110px;">
                        <input type="text" value="name" style="width:8em;" />
                    </div>
                </li>
            </ul>
        </li>
        <li>
            <ul class="nosortable" >
                <li class="ui-state-disabled">
                    <a href="#" onclick="$('#main_pages').append($('#page_model').html());">
                        <img src="img/add.png" style="margin-top:20px" />
                    </a>
                </li>
            </ul>
        </li>
    </div>

    <div style="width:97%; margin-top:30px" > 
        <div  style="margin-left:auto; margin-right:auto; width:50%">
            <h1> Templates available for page Foo </h1>
        </div>
    </div>

    <div class="container-fluid">
        <ul class="sortable" id="sortable2">
            <li class="ui-state-default" contenteditable="false">
                <div style="float:left"><img src="foo.png" style="width:120px;top: 35px;margin-top: 20px;"> </div>
                <div style="margin-top: 110px;">
                    <input type="text" value="name" style="width:8em;" />
                </div>
            </li>
        </ul>
    </div>
</body>
</html>
